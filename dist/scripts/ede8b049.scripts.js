"use strict";function AppCtrl(a){a.app={name:"strange-medows",lastbuild:"fail",user:"eric@heroku.com"}}var neovacUIApp=angular.module("neovacUIApp",["ngResource","nvServices","herokuOauth"]);neovacUIApp.config(["$locationProvider","$routeProvider",function(a,b){b.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/:kind/:value",{templateUrl:"views/main.html",controller:"xidCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("nvServices",["ngResource"]).factory("XidSet",["$resource",function(a){return a("http://neovac.herokuapp.com/:kind/:value.json",{value:"value",kind:"kind"})}]);var neovacUIApp=angular.module("neovacUIApp");neovacUIApp.config(["TokenProvider",function(a){var b=document.URL;a.extendConfig({clientId:"93fd898c-8bd8-41cc-bc22-af5bd04b9408",redirectUri:b+"auth/heroku/callback",authorizationEndpoint:"https://id.heroku.com/oauth/authorize",verifyFunc:function(){return!0}})}]),neovacUIApp.controller("xidCtrl",["$scope","XidSet","$location","$routeParams","Token",function(a,b,c,d,e){a.query=d.value,a.updateXidSet=function(){console.log("getting xids"),console.log(d),a.xids=b.query({value:d.value,kind:d.kind}),console.log("done getting xids"),console.log(a.xids)},a.accessToken=e.get(),a.authenticate=function(){e.getTokenByPopup().then(function(b){e.verifyAsync(b.access_token).then(function(){a.accessToken=b.access_token,a.expiresIn=b.expires_in,Toekn.set(b.access_token)},function(){alert("token failed")})},function(){alert("failed to get token from popup")})},a.getDate=function(a){var b=new Date(1e3*a);return b.getHours(),b.getMinutes(),b.getSeconds(),console.log(a),b.toUTCString()},a.updateLocation=function(){var b=/([0-9a-fA-F]*-[0-9a-fA-F]*-[0-9a-fA-F]*-[0-9a-fA-F]*-[0-9a-fA-F]*)/,d=/^[0-9]+$/,e="",f=a.query;b.test(a.query)?(console.log("found uuid"),e="request_id"):d.test(a.query)?(console.log("found AppId"),e="app_id"):(console.log("found AppName"),e="app"),c.path(e+"/"+f)},d.value&&a.updateXidSet()}]);var neovacUIApp=angular.module("neovacUIApp");neovacUIApp.controller("MainCtrl",["$scope",function(){}]),neovacUIApp.directive("nvXidsView",function(){return{templateUrl:"/views/xidsView.html",scope:{}}});